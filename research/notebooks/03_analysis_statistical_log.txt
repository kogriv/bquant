[LOG] Log started: 2025-10-27 10:51:57
[OUTPUT] Output will be written to: research/notebooks/03_analysis_statistical_log.txt
[>>] Starting Изучаем статистический анализ данных и тестирование гипотез
===============================================================================
[SCRIPT] Изучаем статистический анализ данных и тестирование гипотез
[DATE] Started: 2025-10-27 10:51:57
===============================================================================
================================================================================
[STEP] STEP 1: Шаг 1: Инициализация и обзор
------------------------------------
[INFO] Изучаем модуль статистического анализа bquant.analysis.statistical
Доступные компоненты:
  - StatisticalAnalyzer - базовый класс статистического анализа
  - HypothesisTestSuite - комплексное тестирование гипотез
  - Функции для описательной статистики, тестов нормальности, корреляционного анализа

Создание тестовых данных...
Создан тестовый датасет: (500, 8)
Колонки: ['open', 'high', 'low', 'close', 'volume', 'returns', 'volatility', 'price_range']
Период: 2024-01-01 00:00:00 - 2024-01-21 19:00:00
================================================================================
[STEP] STEP 2: Шаг 2: Создание StatisticalAnalyzer
-------------------------------------------
[INFO] Создаем и настраиваем статистический анализатор
Создан статистический анализатор:
  - Имя: StatisticalAnalyzer
  - Конфигурация: {'alpha': 0.05, 'min_sample_size': 30, 'enable_outlier_detection': True, 'confidence_level': 0.95}
  - Уровень значимости: 0.05
  - Минимальный размер выборки: 30
[OK] Creating StatisticalAnalyzer completed successfully
================================================================================
[STEP] STEP 3: Шаг 3: Описательная статистика
--------------------------------------
[INFO] Вычисляем описательную статистику для различных показателей

3.1. Статистика для close:
  - Количество: 500
  - Среднее: 98.257344
  - Стандартное отклонение: 13.881695
  - Минимум: 76.296822
  - Максимум: 136.712899
  - Медиана: 97.818143
  - Q25: 85.337940
  - Q75: 109.253690
  - Асимметрия: 0.317626
  - Эксцесс: -0.780339
  - Коэффициент вариации: 0.141279

3.1. Статистика для returns:
  - Количество: 499
  - Среднее: 0.000310
  - Стандартное отклонение: 0.019684
  - Минимум: -0.062769
  - Максимум: 0.080101
  - Медиана: 0.000252
  - Q25: -0.013920
  - Q75: 0.012875
  - Асимметрия: 0.248874
  - Эксцесс: 0.336517
  - Коэффициент вариации: 63.519790

3.1. Статистика для volume:
  - Количество: 500
  - Среднее: 5565.424000
  - Стандартное отклонение: 2528.349231
  - Минимум: 1025.000000
  - Максимум: 9988.000000
  - Медиана: 5423.000000
  - Q25: 3447.500000
  - Q75: 7690.750000
  - Асимметрия: 0.038554
  - Эксцесс: -1.156267
  - Коэффициент вариации: 0.454296

3.1. Статистика для price_range:
  - Количество: 500
  - Среднее: 0.007916
  - Стандартное отклонение: 0.004370
  - Минимум: 0.000363
  - Максимум: 0.022932
  - Медиана: 0.007358
  - Q25: 0.004460
  - Q75: 0.010885
  - Асимметрия: 0.602101
  - Эксцесс: -0.088203
  - Коэффициент вариации: 0.552075
[OK] Computing descriptive statistics completed successfully
================================================================================
[STEP] STEP 4: Шаг 4: Тесты нормальности
---------------------------------
[INFO] Тестируем нормальность распределения различных показателей

4.1. Тест нормальности для returns:
  - Тест Шапиро-Уилка:
    * Статистика: 0.995207
    * p-значение: 0.126333
    * Нормальное: Да
  - Тест Колмогорова-Смирнова:
  - Общий результат: Не нормальное

4.1. Тест нормальности для price_range:
  - Тест Шапиро-Уилка:
    * Статистика: 0.967590
    * p-значение: 0.000000
    * Нормальное: Нет
  - Тест Колмогорова-Смирнова:
  - Общий результат: Не нормальное
[OK] Testing normality completed successfully
================================================================================
[STEP] STEP 5: Шаг 5: Корреляционный анализ
------------------------------------
[INFO] Анализируем корреляции между различными показателями
5.1. Корреляционная матрица:
  - Размер матрицы: (8, 8)
5.2. Основные корреляции:
  - open ↔ high: 0.9997
  - open ↔ low: 0.9997
  - open ↔ close: 1.0000
  - open ↔ volume: -0.1097
  - open ↔ returns: 0.0733
  - open ↔ volatility: 0.1746
  - open ↔ price_range: -0.0024
  - high ↔ low: 0.9995
  - high ↔ close: 0.9998
  - high ↔ volume: -0.1095
  - high ↔ returns: 0.0741
  - high ↔ volatility: 0.1751
  - high ↔ price_range: 0.0130
  - low ↔ close: 0.9998
  - low ↔ volume: -0.1103
  - low ↔ returns: 0.0738
  - low ↔ volatility: 0.1756
  - low ↔ price_range: -0.0178
  - close ↔ volume: -0.1100
  - close ↔ returns: 0.0739
  - close ↔ volatility: 0.1747
  - close ↔ price_range: -0.0024
  - volume ↔ returns: -0.0986
  - volume ↔ volatility: -0.0056
  - volume ↔ price_range: 0.0237
  - returns ↔ volatility: -0.0547
  - returns ↔ price_range: 0.0118
  - volatility ↔ price_range: -0.0151
5.3. Тестирование значимости корреляций:
  - open ↔ high: r=0.9997, p=0.0000, значима=Да
  - open ↔ low: r=0.9997, p=0.0000, значима=Да
  - open ↔ close: r=1.0000, p=0.0000, значима=Да
  - open ↔ volume: r=-0.1097, p=0.0141, значима=Да
  - open ↔ returns: r=0.0733, p=0.1021, значима=Нет
  - open ↔ volatility: r=0.1746, p=0.0001, значима=Да
  - open ↔ price_range: r=-0.0024, p=0.9579, значима=Нет
  - high ↔ low: r=0.9995, p=0.0000, значима=Да
  - high ↔ close: r=0.9998, p=0.0000, значима=Да
  - high ↔ volume: r=-0.1095, p=0.0143, значима=Да
  - high ↔ returns: r=0.0741, p=0.0982, значима=Нет
  - high ↔ volatility: r=0.1751, p=0.0001, значима=Да
  - high ↔ price_range: r=0.0130, p=0.7722, значима=Нет
  - low ↔ close: r=0.9998, p=0.0000, значима=Да
  - low ↔ volume: r=-0.1103, p=0.0136, значима=Да
  - low ↔ returns: r=0.0738, p=0.0995, значима=Нет
  - low ↔ volatility: r=0.1756, p=0.0001, значима=Да
  - low ↔ price_range: r=-0.0178, p=0.6921, значима=Нет
  - close ↔ volume: r=-0.1100, p=0.0138, значима=Да
  - close ↔ returns: r=0.0739, p=0.0993, значима=Нет
  - close ↔ volatility: r=0.1747, p=0.0001, значима=Да
  - close ↔ price_range: r=-0.0024, p=0.9578, значима=Нет
  - volume ↔ returns: r=-0.0986, p=0.0277, значима=Да
  - volume ↔ volatility: r=-0.0056, p=0.9034, значима=Нет
  - volume ↔ price_range: r=0.0237, p=0.5969, значима=Нет
  - returns ↔ volatility: r=-0.0547, p=0.2316, значима=Нет
  - returns ↔ price_range: r=0.0118, p=0.7924, значима=Нет
  - volatility ↔ price_range: r=-0.0151, p=0.7417, значима=Нет
[OK] Correlation analysis completed successfully
================================================================================
[STEP] STEP 6: Шаг 6: Создание HypothesisTestSuite
-------------------------------------------
[INFO] Создаем набор статистических тестов для анализа торговых данных
Созданы наборы тестов:
  - conservative: α = 0.01
  - standard: α = 0.05
  - liberal: α = 0.1
[OK] Creating HypothesisTestSuite completed successfully
================================================================================
[STEP] STEP 7: Шаг 7: Тестирование гипотез о зонах
-------------------------------------------
[INFO] Тестируем гипотезы о влиянии различных факторов на торговые результаты
7.1. Создание синтетических данных о зонах:
  - Создано 100 синтетических зон

7.2. Тестирование с conservative уровнем значимости (α = 0.01):
  - Гипотеза: Zone duration affects price returns
  - Тип теста: Independent t-test
  - Статистика: 1.800582
  - p-значение: 0.078626
  - Значимый: Нет
  - Размер эффекта: 0.532981

7.2. Тестирование с standard уровнем значимости (α = 0.05):
  - Гипотеза: Zone duration affects price returns
  - Тип теста: Independent t-test
  - Статистика: 1.800582
  - p-значение: 0.078626
  - Значимый: Нет
  - Размер эффекта: 0.532981

7.2. Тестирование с liberal уровнем значимости (α = 0.1):
  - Гипотеза: Zone duration affects price returns
  - Тип теста: Independent t-test
  - Статистика: 1.800582
  - p-значение: 0.078626
  - Значимый: Да
  - Размер эффекта: 0.532981
[OK] Testing trading hypotheses completed successfully
================================================================================
[STEP] STEP 8: Шаг 8: Анализ распределений
-----------------------------------
[INFO] Анализируем распределения различных торговых показателей

8.1. Анализ распределения returns:
  - Форма распределения:
    * Асимметрия: 0.2489
    * Эксцесс: 0.3365
    * Интерпретация асимметрии: Примерно симметричное
    * Интерпретация эксцесса: Нормальный эксцесс
  - Квантили (хвосты распределения):
    * 1%: -0.039975
    * 5%: -0.029857
    * 95%: 0.033116
    * 99%: 0.044835

8.1. Анализ распределения volume:
  - Форма распределения:
    * Асимметрия: 0.0386
    * Эксцесс: -1.1563
    * Интерпретация асимметрии: Примерно симметричное
    * Интерпретация эксцесса: Нормальный эксцесс
  - Квантили (хвосты распределения):
    * 1%: 1181.920000
    * 5%: 1612.300000
    * 95%: 9560.300000
    * 99%: 9858.010000

8.1. Анализ распределения price_range:
  - Форма распределения:
    * Асимметрия: 0.6021
    * Эксцесс: -0.0882
    * Интерпретация асимметрии: Правостороннее (положительная асимметрия)
    * Интерпретация эксцесса: Нормальный эксцесс
  - Квантили (хвосты распределения):
    * 1%: 0.000938
    * 5%: 0.001862
    * 95%: 0.016094
    * 99%: 0.019103
[OK] Distribution analysis completed successfully
================================================================================
[STEP] STEP 9: Шаг 9: Статистические тесты для торговых стратегий
----------------------------------------------------------
[INFO] Тестируем статистическую значимость торговых стратегий
9.1. Создание данных о результатах стратегий:
  - Buy & Hold: 499 наблюдений
  - Волатильностная стратегия: 499 наблюдений
  - Объемная стратегия: 499 наблюдений

9.2. Статистическое сравнение стратегий:
  - Buy & Hold:
    * Средняя доходность: 0.000310
    * Волатильность: 0.019684
    * Коэффициент Шарпа: 0.0157
  - Volatility Strategy:
    * Средняя доходность: 0.000785
    * Волатильность: 0.013251
    * Коэффициент Шарпа: 0.0592
  - Volume Strategy:
    * Средняя доходность: 0.000123
    * Волатильность: 0.013969
    * Коэффициент Шарпа: 0.0088

9.3. Тестирование различий между стратегиями:
  - Buy & Hold vs Volatility Strategy:
    * t-статистика: -0.4471
    * p-значение: 0.654915
    * Значимое различие: Нет
  - Buy & Hold vs Volume Strategy:
    * t-статистика: 0.1731
    * p-значение: 0.862616
    * Значимое различие: Нет
  - Volatility Strategy vs Volume Strategy:
    * t-статистика: 0.7680
    * p-значение: 0.442691
    * Значимое различие: Нет
[OK] Testing trading strategies completed successfully
================================================================================
[STEP] STEP 10: Шаг 10: Интеграция и экспорт результатов
-------------------------------------------------
[INFO] Интегрируем все результаты анализа и экспортируем их
10.1. Создание сводного отчета:
  - Сводный отчет создан
  - Анализировано показателей: 3
  - Протестировано стратегий: 3

10.2. Экспорт результатов:
  - JSON отчет: statistical_analysis_report.json
  - Размер файла: 1314 байт
  - CSV данные: statistical_analysis_data.csv
  - Размер файла: 322 байт
  - Содержимое CSV:
     indicator         mean          std  skewness  kurtosis  is_normal
0      returns     0.000310     0.019684  0.248874  0.336517      False
1       volume  5565.424000  2528.349231  0.038554 -1.156267      False
2  price_range     0.007916     0.004370  0.602101 -0.088203      False
  - Тестовые файлы удалены
[OK] Integration and export completed successfully
================================================================================
[STEP] STEP 11: Завершение
------------------------------
[INFO] Демонстрация статистического анализа bquant.analysis.statistical завершена
Изучены:
  ✓ StatisticalAnalyzer - базовый класс статистического анализа
  ✓ HypothesisTestSuite - комплексное тестирование гипотез
  ✓ Описательная статистика для торговых показателей
  ✓ Тесты нормальности распределений
  ✓ Корреляционный анализ между показателями
  ✓ Статистическое тестирование торговых стратегий
  ✓ Анализ распределений и их характеристик
  ✓ Экспорт результатов анализа

Готово к созданию скриптов для других модулей анализа!

[END] Script finished successfully!
[END] Log ended: 2025-10-27 10:51:57
[TIME] Duration: 0:00:00.147660
