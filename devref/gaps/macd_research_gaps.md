## Анализ соответствия пакета bquant методологии `macd_research.md`

---

### Что реализовано

- **Сегментация истории по знаку MACD**  
  `MACDZoneAnalyzer` выполняет разбиение ряда на бычьи и медвежьи зоны и отбрасывает короткие участки, что отвечает задаче сегментации исследовательского плана.

- **Извлечение ключевых признаков и нормализация ATR**  
  Расчёт метрик зон включает амплитуды MACD, диапазон цен, корреляцию цены с гистограммой и приведение доходностей к ATR, выполняя требование нормализации волатильности и базового набора показателей зоны.

- **Статистический анализ, проверки гипотез и кластеризация**  
  Модуль `ZoneSequenceAnalyzer` реализует переходы, тесты случайности и марковский анализ, а `HypothesisTestSuite` содержит набор t‑тестов, корреляций и проверок асимметрии, что покрывает значительную часть этапов статистического анализа и проверки гипотез.

---

### Что отсутствует или реализовано частично

- **Расширенные признаки зон**  
  В методологии заявлены метрики диапазона, свинг‑анализ, тайминги, дивергенции и показатели объёма; в коде присутствуют лишь простейшие аналоги (пики/впадины, корреляция), что оставляет значительную часть расширенных признаков не реализованной.

- **Моделирование и углублённый анализ паттернов**  
  Этапы с OLS‑регрессиями, N‑gram анализа последовательностей, классификацией форм по skew/kurtosis и учётом рыночных режимов (ADX) не представлены.

- **Валидация и интеграция в торговые стратегии**  
  Функции walk‑forward/out‑of‑sample тестирования, Monte‑Carlo, кросс‑активной проверки и бэктестинг торговых правил отсутствуют.

---

### Итог

Пакет **bquant** реализует основные этапы исследования MACD — сегментацию, извлечение базовых признаков, статистический анализ и проверки гипотез. Однако значительная часть расширенных метрик, моделирования, валидации и интеграции в торговые стратегии остаётся за пределами текущей реализации. Пакет охватывает фундаментальные задачи методологии, но не доводит её до полного исследовательского и прикладного цикла.