# ZO Validation Check

| Файлы | Результат теста | Соответствие примеров | Непокрытые примеры кода |
| --- | --- | --- | --- |
| docs/api/README.md<br>devref/gaps/zo/zodoctest/test_api_readme_validation.py | ✅ 9/9 тестов пройдено | Universal Pipeline и PRELOADED MACD сценарии из документации запускаются в тестах `test_universal_pipeline_example` и `test_actual_macd_examples`; прочие шаги воспроизведены. | Вызов PRELOADED MACD `macd_indicator.calculate(data)` отсутствует в тесте. |
| docs/api/analysis/README.md<br>devref/gaps/zo/zodoctest/test_analysis_readme_validation.py | ✅ 9/9 тестов пройдено (требуется запуск с `PYTHONPATH=.`) | Проверяются примеры Universal Pipeline, t-test, анализ характеристик и последовательностей зон, `StatisticalAnalyzer`, кастомный `VolatilityAnalyzer`. | Раздел «Экспорт результатов анализа»: `run_all_hypothesis_tests(zones_info)` не исполняется. |
| docs/api/analysis/zones.md<br>devref/gaps/zo/zodoctest/test_zones_validation.py | ❌ 10/11 тестов (legacy API `AttributeError: 'int' object has no attribute 'total_seconds'`) | Актуальные примеры `indicator_context`, MACD/RSI/Stochastic, кастомный индикатор и `.with_strategies()` воспроизводятся тестами; Universal Pipeline сценарии совпадают с документацией. | Legacy-блок `find_support_resistance`/`ZoneFeaturesAnalyzer` падает на расчёте `total_seconds()`; маркетинговые декларации (`FICTIONAL_INDICATOR_99`, перечисление стратегий) не покрыты. |
| docs/api/analysis/strategies.md<br>devref/gaps/zo/zodoctest/test_strategies_validation.py | ✅ 7/7 тестов пройдено (PYTHONPATH=.) | Тесты воспроизводят прямые вызовы shape/divergence/volume/volatility стратегий, извлечение признаков `ZoneFeaturesAnalyzer`, комбинированный Universal Pipeline и сценарий `StrategyRegistry`. | Примеры `StatisticalShapeStrategy` с `indicator_col='CCI_20'` и `'MY_CUSTOM_OSC'`, дивергенция с `indicator_col='AO_5_34'`, циклы A/B-тестов стратегий, создание volume-стратегии через `create_volume_strategy`. |
| docs/api/analysis/pipeline.md<br>devref/gaps/zo/zodoctest/test_pipeline_validation.py | ✅ 12/12 тестов пройдено (PYTHONPATH=.) | Покрыты Fluent Builder, core engine, `indicator_context`, line crossing, расширенные стратегии, полный анализ (regression/validation), сценарии с кэшированием, практические MACD/RSI/AO примеры и migration guide. | Блок `ZoneAnalysisPipeline` не проверяет вывод `result.statistics`/`result.hypothesis_tests`; демонстрационный `detect_zones(self, data, config)` из раздела Strategy Usage не исполняется. |
| docs/api/analysis/statistical.md<br>devref/gaps/zo/zodoctest/test_statistical_validation.py | ✅ Все сценарии выполнены (PYTHONPATH=.) | Реплицированы генераторы данных, примеры `StatisticalAnalyzer`, полный набор `HypothesisTestSuite`, регрессионные модели и все сценарии `ValidationSuite`; зафиксированы предупреждения AD-теста, но проверки завершаются успешно. | Все кодовые блоки из разделов про анализатор, HypothesisTestSuite, регрессию и ValidationSuite исполняются в тесте. |
| docs/api/analysis/base.md<br>devref/gaps/zo/zodoctest/test_base_validation.py | ✅ 5/5 проверок успешно (PYTHONPATH=.) | Пример `MyAnalyzer`, импорты, фабрика анализаторов, cross-reference ссылки и языковые маркеры полностью соответствуют документации. | Единственный пример `MyAnalyzer` из документации полностью покрыт запуском теста. |
| docs/api/core/README.md<br>devref/gaps/zo/zodoctest/test_core_readme_validation.py | ✅ 8/8 тестов пройдено (PYTHONPATH=.) | Повторены все шесть кодовых блоков: конфигурация путей, `setup_logging()/get_logger`, `@performance_monitor()` и `performance_context`, обработка `DataError`, `validate_ohlcv_columns`+`calculate_returns`, сценарий `NotebookSimulator`; дополнительные проверки ссылок и языка совпадают с документацией. | Все демонстрационные блоки (конфигурация, логирование, производительность, исключения, утилиты, NotebookSimulator) выполняются в тесте. |
| docs/api/core/config.md<br>devref/gaps/zo/zodoctest/test_config_validation.py | ✅ 8/8 тестов пройдено (PYTHONPATH=.) | Подтверждены примеры `get_data_path`/`validate_timeframe`, `get_indicator_params`, `get_results_path`, все фабрики стратегий, структура `ANALYSIS_CONFIG` и блок управления директориями с `set_data_dir`/`reset_directories_to_defaults`; cross-ref и языковая проверка отражают документ. | Все приведённые кодовые примеры (пути, параметры, фабрики стратегий, `ANALYSIS_CONFIG`, управление директориями) отрабатываются тестами. |
| docs/api/core/exceptions.md<br>devref/gaps/zo/zodoctest/test_exceptions_validation.py | ✅ 4/4 теста успешно (PYTHONPATH=.) | Проверена иерархия исключений, пример `create_data_validation_error` + `BQuantErrorContext`, а также валидаторы `validate_timeframe`, `validate_indicator_parameters`, `validate_ohlcv_data`; языковая проверка совпадает с описанием. | Единственный пример с фабрикой ошибки и `BQuantErrorContext`, а также валидаторы из документации, исполняются в тесте. |
| docs/api/core/logging.md<br>devref/gaps/zo/zodoctest/test_logging_validation.py | ✅ 7/7 тестов успешно (PYTHONPATH=.) | Воспроизведены все профили `setup_logging`, цепочка `LoggingConfigurator`, блоки Troubleshooting, интеграция с NotebookSimulator и сценарии миграции; проверки ссылок и языка соответствуют документу. | Все кодовые примеры из раздела исполнены тестом. |
| docs/api/core/nb.md<br>devref/gaps/zo/zodoctest/test_nb_validation.py | ✅ 7/7 тестов успешно (PYTHONPATH=.) | Запущены основной сниппет, базовый/продвинутый/минимальный скрипты, утилиты `data_info`/`summary_item`/`next_steps`, а также валидации ссылок и языка. | Сниппет «Логирование» с прямыми вызовами `logging.getLogger(...).setLevel(...)` не воспроизводится; обработчик `nb.cleanup_and_exit(1)` остаётся в ветке, не достигаемой тестом. |
| docs/api/core/performance.md<br>devref/gaps/zo/zodoctest/test_performance_validation.py | ✅ 5/5 тестов успешно (PYTHONPATH=.) | Проверены сниппеты `@performance_monitor`, `performance_context`, `OptimizedIndicators.sma`, `compare_implementations`, плюс языковая проверка раздела. | Все кодовые примеры из раздела исполнены тестом. |
| docs/api/core/utils.md<br>devref/gaps/zo/zodoctest/test_utils_validation.py | ✅ 6/6 проверок успешно (PYTHONPATH=.) | Тесты повторяют блоки расчёта доходностей/нормализации, сохранения результатов, проверки колонок OHLCV, вспомогательные утилиты и оба примера `@deprecated`. | Все кодовые блоки из документа выполняются в тесте. |
| docs/api/data/README.md<br>devref/gaps/zo/zodoctest/test_data_readme_validation.py | ✅ 6/6 проверок успешно (PYTHONPATH=.) | Скрипт воспроизводит загрузку данных, обработку, валидацию, работу с sample API, настройку логирования и проверку cross-reference. | Все примеры из разделов «Загрузка данных», «Обработка данных», «Валидация данных», «Sample данные» и «Логирование» покрыты. |
| docs/api/data/loader.md<br>devref/gaps/zo/zodoctest/test_loader_validation.py | ✅ 3/3 проверки успешно (PYTHONPATH=.) | Прогон охватывает загрузку из файла, по символу/таймфрейму, пакетную загрузку и демонстрацию настройки логирования. | Все примеры кода из документа воспроизводятся тестом. |
| docs/api/data/processor.md<br>devref/gaps/zo/zodoctest/test_processor_validation.py | ✅ 5/5 проверок успешно (PYTHONPATH=.) | Очистка/подготовка данных, ресемплинг и расчёт производных индикаторов выполняются на синтетическом OHLCV-сете; модульные импорты и языковые проверки соответствуют документу. | — (все python-примеры покрыты тестом) |
| docs/api/data/samples.md<br>devref/gaps/zo/zodoctest/test_samples_validation.py | ✅ 5/5 проверок успешно (PYTHONPATH=.) | Повторены блоки быстрого старта, API и дополнительных функций, интеграция с MACD/визуализацией/статистикой и проверка скриптов обновления; логируются ожидаемые предупреждения zigzag/volatility tests. | CLI-команды `python scripts/data/extract_samples.py ...` из раздела «Обновление данных» не исполняются (проверено только наличие скрипта). |
| docs/api/data/schemas.md<br>devref/gaps/zo/zodoctest/test_schemas_validation.py | ✅ 3/3 проверки успешно (PYTHONPATH=.) | Проверены импорты моделей, выполнение `validate_with_schema` и соответствие набора предопределённых схем документации. | — (все python-примеры покрыты тестом) |
| docs/api/data/validator.md<br>devref/gaps/zo/zodoctest/test_validator_validation.py | ✅ 2/2 проверки успешно (PYTHONPATH=.) | Тест воспроизводит подготовку OHLCV DataFrame и полный набор вызовов `validate_ohlcv_data`, `validate_data_completeness`, `validate_price_consistency`, `validate_time_series_continuity`, `validate_statistical_properties`; дополнительно проверяются ссылки и содержание раздела. | — (все python-примеры покрыты тестом) |
| docs/api/indicators/README.md<br>devref/gaps/zo/zodoctest/test_indicators_readme_validation.py | ✅ 12/12 тестов пройдено (PYTHONPATH=.) | Восстановлены сценарии PRELOADED MACD, кастомных колонок, Universal Pipeline (MACD/RSI/кастомный индикатор), пользовательского SMA, работы с `IndicatorFactory`, комбинированного анализа, анализа характеристик зон, тюнинга параметров и экспорта результатов; cross-ref проверки совпадают с документацией. | — (все python-примеры покрыты тестом) |
| docs/api/indicators/macd.md<br>devref/gaps/zo/zodoctest/test_macd_validation.py | ✅ 8/8 тестов успешно (PYTHONPATH=.) | Скрипт проверяет deprecation-декоратор, миграционные примеры (legacy `MACDZoneAnalyzer` против Universal Pipeline), перебор зон и пресеты `analyze_macd_zones`, а также PRELOADED индикатор и кастомные колонки. | — (все python-примеры покрыты тестом) |
