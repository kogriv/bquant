# Core Concepts ‚Äî –ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ BQuant

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–≤—è–∑—ã–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω Universal Zone Analysis Pipeline v2.1. –í—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –∞–Ω–∞–ª–∏–∑–µ –∑–æ–Ω, –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏ –∫–∞–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

## üß± –ö–ª—é—á–µ–≤—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ Universal Pipeline

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ì–¥–µ –æ–ø–∏—Å–∞–Ω |
|-----------|------------|------------|
| **DataFrame —Å OHLCV** | –ò—Å—Ö–æ–¥–Ω—ã–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –∏ –≥–æ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã | [Data Management](../api/data/README.md) |
| **IndicatorConfig** | –û–ø–∏—Å–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ | [Indicators](../api/indicators/README.md) |
| **ZoneDetectionConfig** | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∏—Å–∫–∞ –∑–æ–Ω –∏ –µ—ë –ø—Ä–∞–≤–∏–ª–∞ | [Analysis / Zones](../api/analysis/zones.md) |
| **UniversalZoneAnalyzer** | –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏, –≥–∏–ø–æ—Ç–µ–∑—ã, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | [Analysis / pipeline](../api/analysis/pipeline.md) |
| **ZoneAnalysisResult** | –ò—Ç–æ–≥–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å –∑–æ–Ω–∞–º–∏, –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ | [Analysis / base](../api/analysis/base.md) |

> ‚ÑπÔ∏è Universal Pipeline –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ MACD. –õ—é–±–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (–≤–∫–ª—é—á–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π) –∏–ª–∏ –≥–æ—Ç–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –∑–æ–Ω –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `ZoneDetectionConfig`.

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DataFrame —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–æ–ª–±—Ü—ã `time`, `open`, `high`, `low`, `close`, `volume` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã.
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞** ‚Äî –ª–∏–±–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ, –ª–∏–±–æ –ø–æ–¥–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `macd_histogram`).
3. **–í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏** ‚Äî `zero_crossing`, `threshold`, `line_crossing`, `preloaded` –∏–ª–∏ `combined`.
4. **–ê–Ω–∞–ª–∏–∑ –∑–æ–Ω** ‚Äî UniversalZoneAnalyzer —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏, –≥–∏–ø–æ—Ç–µ–∑—ã –∏ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) —Ä–µ–≥—Ä–µ—Å—Å–∏—é, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é.
5. **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** ‚Äî –æ–±—ä–µ–∫—Ç `ZoneAnalysisResult` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–∫–∏ –∑–æ–Ω, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –æ—Ç—á–µ—Ç—ã –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã

–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∏–∑ –∫–∞–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è pipeline.

```python
from bquant.analysis.zones.pipeline import IndicatorConfig, ZoneDetectionConfig, ZoneAnalysisConfig

config = ZoneAnalysisConfig(
    indicator=IndicatorConfig(
        source='custom',
        name='macd',
        params={'fast': 12, 'slow': 26, 'signal': 9}
    ),
    zone_detection=ZoneDetectionConfig(
        strategy_name='zero_crossing',
        rules={'indicator_col': 'macd_histogram'},
        min_duration=3
    ),
    perform_clustering=True,
    n_clusters=3,
    run_regression=False,
    run_validation=False
)

print(config.zone_detection.strategy_name)
print(config.indicator.name)
```

## üöÄ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–æ–Ω –Ω–∞ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í sample-–¥–∞–Ω–Ω—ã—Ö `tv_xauusd_1h` —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–æ–ª–±—Ü—ã `macd` –∏ `signal`, –ø–æ—ç—Ç–æ–º—É –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—ã—á–∏—Ç–∞–Ω–∏–µ–º. –≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≥–æ—Ç–æ–≤—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏.

```python
from bquant.data.samples import get_sample_data
from bquant.analysis.zones import analyze_zones

df = get_sample_data('tv_xauusd_1h').head(200).copy()
df['macd_histogram'] = df['macd'] - df['signal']  # –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–µ–ª–∞–µ–º —è–≤–Ω—É—é –æ–≥–æ–≤–æ—Ä–∫—É

result = (
    analyze_zones(df)
    .detect_zones('zero_crossing', indicator_col='macd_histogram')
    .with_strategies(swing='find_peaks', shape='statistical')
    .analyze(clustering=True, n_clusters=3)
    .build()
)

print(len(result.zones))
print(sorted(result.statistics.keys())[:3])
print(result.clustering is not None)
```

### –ß—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –æ `ZoneAnalysisResult`

- `zones` ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –∑–æ–Ω —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏, —Ç–∏–ø–æ–º –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.
- `statistics` ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–º–ø–ª–∏—Ç—É–¥, –∞—Å–∏–º–º–µ—Ç—Ä–∏—è –∏ —Ç.–¥.).
- `hypothesis_tests` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–∏–ø–æ—Ç–µ–∑ (–ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏).
- `clustering`, `regression_results`, `validation_results` ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –µ—Å–ª–∏ –≤—ã –≤–∫–ª—é—á–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —ç—Ç–∞–ø—ã.
- `data` ‚Äî –∫–æ–ø–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ DataFrame (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è).

## üìé –ß—Ç–æ –ø–æ—á–∏—Ç–∞—Ç—å –¥–∞–ª—å—à–µ

- [Quick Start](quick_start.md) ‚Äî –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º.
- [Core Modules](../api/core/README.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —è–¥—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- [Analysis / pipeline](../api/analysis/pipeline.md) ‚Äî –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º.
- [Visualization](../api/visualization/README.md) ‚Äî —Å–ø–æ—Å–æ–±—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã `ZoneAnalysisResult`.
