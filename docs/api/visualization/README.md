# Visualization - –ú–æ–¥—É–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ BQuant

## üìö –û–±–∑–æ—Ä

Visualization –º–æ–¥—É–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–æ–Ω, —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º —Å **Universal Pipeline v2.1** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π.

> **‚úÖ v2.1 - Modern Visualization Architecture**
> 
> **ZoneVisualizer Integration:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ ZoneAnalysisResult
> 
> **Universal Pipeline Support:** –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
> 
> **Advanced Features:** Auto-detect indicators, context bars, date range filtering

## üóÇÔ∏è –ú–æ–¥—É–ª–∏

### üìä [bquant.visualization.charts](charts.md) - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- **FinancialCharts** - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **create_candlestick_chart()** - Candlestick –≥—Ä–∞—Ñ–∏–∫
- **create_ohlc_chart()** - OHLC –≥—Ä–∞—Ñ–∏–∫
- **create_line_chart()** - –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

### üéØ [bquant.visualization.zones](zones.md) - Universal Zone Visualization

**ZoneVisualizer - Core Class:**
- **plot_zones_on_price_chart()** - –æ–±—â–∏–π –≥—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω —Å –∑–æ–Ω–∞–º–∏
- **plot_zone_detail()** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–¥–Ω–æ–π –∑–æ–Ω—ã
- **plot_zones_comparison()** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–æ–Ω
- **plot_zones_analysis()** - —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∑–æ–Ω

**ZoneAnalysisResult Integration:**
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ Universal Pipeline
- **Auto-detect Indicators** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- **Context Bars** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–∫—Ä—É–≥ –∑–æ–Ω—ã
- **Date Range Filtering** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–æ–Ω –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç

### üìà [bquant.visualization.statistical](statistical.md) - –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
- **StatisticalPlots** - –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
- **plot_correlation_matrix()** - –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
- **plot_distribution()** - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **plot_hypothesis_results()** - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–∏–ø–æ—Ç–µ–∑

### üé® [bquant.visualization.themes](themes.md) - –¢–µ–º—ã –∏ —Å—Ç–∏–ª–∏
- **ChartThemes** - –¢–µ–º—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **set_theme()** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã
- **create_custom_theme()** - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ç–µ–º—ã
- **ThemeManager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏

## üîç –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

### –ü–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- `FinancialCharts.create_candlestick_chart()` - Candlestick –≥—Ä–∞—Ñ–∏–∫
- `FinancialCharts.create_ohlc_chart()` - OHLC –≥—Ä–∞—Ñ–∏–∫
- `FinancialCharts.create_line_chart()` - –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
- `FinancialCharts.create_area_chart()` - –ü–ª–æ—â–∞–¥–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫

#### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–æ–Ω
- `ZoneVisualizer.plot_macd_with_zones()` - MACD —Å –∑–æ–Ω–∞–º–∏
- `ZoneVisualizer.highlight_zones()` - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∑–æ–Ω
- `ZoneVisualizer.create_zone_chart()` - –ì—Ä–∞—Ñ–∏–∫ –∑–æ–Ω
- `ZoneVisualizer.plot_zone_statistics()` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–æ–Ω

#### –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
- `StatisticalPlots.plot_correlation_matrix()` - –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
- `StatisticalPlots.plot_distribution()` - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- `StatisticalPlots.plot_hypothesis_results()` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- `StatisticalPlots.plot_box_plot()` - Box plot

#### –¢–µ–º—ã –∏ —Å—Ç–∏–ª–∏
- `ChartThemes.set_theme()` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã
- `ChartThemes.create_custom_theme()` - –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–µ–º–∞
- `ChartThemes.get_available_themes()` - –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã
- `ChartThemes.apply_theme()` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã

### –ü–æ —Ç–∏–ø—É

#### üèóÔ∏è –ö–ª–∞—Å—Å—ã
- `FinancialCharts` - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- `ZoneVisualizer` - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–æ–Ω
- `StatisticalPlots` - –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
- `ChartThemes` - –¢–µ–º—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤

#### üîß –§—É–Ω–∫—Ü–∏–∏
- `create_candlestick_chart()` - Candlestick –≥—Ä–∞—Ñ–∏–∫
- `plot_macd_with_zones()` - MACD —Å –∑–æ–Ω–∞–º–∏
- `plot_correlation_matrix()` - –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
- `set_theme()` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã

#### üìã –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- `ChartConfig` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
- `ThemeConfig` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ–º—ã
- `ZoneVisualizationConfig` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–æ–Ω
- `StatisticalPlotConfig` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

```python
from bquant.visualization import FinancialCharts
from bquant.data.samples import get_sample_data

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
data = get_sample_data('tv_xauusd_1h')

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
charts = FinancialCharts()

# Candlestick –≥—Ä–∞—Ñ–∏–∫
candlestick_fig = charts.create_candlestick_chart(
    data,
    title="XAUUSD 1H - Candlestick Chart",
    volume=True,
    theme='dark'
)

# OHLC –≥—Ä–∞—Ñ–∏–∫
ohlc_fig = charts.create_ohlc_chart(
    data,
    title="XAUUSD 1H - OHLC Chart",
    theme='light'
)

# –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
line_fig = charts.create_line_chart(
    data['close'],
    title="XAUUSD 1H - Close Price",
    theme='blue'
)

# –ü–æ–∫–∞–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤
candlestick_fig.show()
ohlc_fig.show()
line_fig.show()
```

### Universal Pipeline Visualization

```python
from bquant.analysis.zones import analyze_zones
from bquant.visualization import ZoneVisualizer

# Universal Pipeline –∞–Ω–∞–ª–∏–∑
result = (
    analyze_zones(data)
    .with_indicator('custom', 'macd', fast_period=12, slow_period=26, signal_period=9)
    .detect_zones('zero_crossing', indicator_col='macd_hist')
    .analyze(clustering=True)
    .build()
)

# –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
fig = result.visualize('overview')  # –û–±—â–∏–π –æ–±–∑–æ—Ä
fig.show()

fig = result.visualize('detail', zone_id=5)  # –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
fig.show()

fig = result.visualize('comparison', max_zones=5)  # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
fig.show()

fig = result.visualize('statistics')  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
fig.show()
```

### Advanced Zone Visualization

```python
from bquant.visualization import ZoneVisualizer

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∑–æ–Ω
zone_viz = ZoneVisualizer()

# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–æ–Ω—ã —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
fig = zone_viz.plot_zone_detail(
    data,
    result.zones[0],
    context_bars=15,
    show_indicators=True,
    title="Zone Detail Analysis"
)
fig.show()

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–æ–Ω –ø–æ –¥–∞—Ç–∞–º
from datetime import datetime
fig = zone_viz.plot_zones_comparison(
    data,
    result.zones,
    date_range=(datetime(2024, 1, 1), datetime(2024, 3, 1)),
    max_zones=5,
    title="Zones Comparison"
)
fig.show()

# –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ZoneVisualizer
fig = zone_viz.plot_zones_on_price_chart(data, result.zones)
fig.show()
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ (Universal Pipeline)

```python
from bquant.visualization import StatisticalPlots

# Universal Pipeline —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ hypothesis tests
result = (
    analyze_zones(data)
    .with_indicator('custom', 'macd', fast_period=12, slow_period=26, signal_period=9)
    .detect_zones('zero_crossing', indicator_col='macd_hist')
    .analyze(clustering=True)  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç hypothesis tests
    .build()
)

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
stat_plots = StatisticalPlots()

# –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
corr_fig = stat_plots.plot_correlation_matrix(
    data[['open', 'high', 'low', 'close', 'volume']],
    title="Correlation Matrix",
    theme='heatmap'
)

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω –∑–∞–∫—Ä—ã—Ç–∏—è
dist_fig = stat_plots.plot_distribution(
    data['close'],
    title="Close Price Distribution",
    plot_type='histogram',
    theme='blue'
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–∏–ø–æ—Ç–µ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏–∑ Universal Pipeline
if result.hypothesis_tests:
    hypothesis_fig = stat_plots.plot_hypothesis_results(
        result.hypothesis_tests.results,
        title="Hypothesis Test Results",
        theme='dark'
    )
    hypothesis_fig.show()

# Box plot –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–æ–Ω
bull_volatility = [zone.features.get('volatility_score', 0) for zone in result.zones 
                  if zone.zone_type == 'bull' and zone.features]
bear_volatility = [zone.features.get('volatility_score', 0) for zone in result.zones 
                  if zone.zone_type == 'bear' and zone.features]

box_fig = stat_plots.plot_box_plot(
    data=[bull_volatility, bear_volatility],
    labels=['Bull Zones', 'Bear Zones'],
    title="Volatility Comparison",
    theme='light'
)

# –ü–æ–∫–∞–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤
corr_fig.show()
dist_fig.show()
box_fig.show()
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º

```python
from bquant.visualization import ChartThemes

# –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ç–µ–º
themes = ChartThemes()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–º
available_themes = themes.get_available_themes()
print(f"Available themes: {available_themes}")

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã
themes.set_theme('dark')

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ç–µ–º—ã
custom_theme = themes.create_custom_theme(
    name='my_theme',
    colors={
        'primary': '#1f77b4',
        'secondary': '#ff7f0e',
        'background': '#f8f9fa',
        'text': '#2c3e50'
    },
    font_family='Arial',
    font_size=12
)

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã
themes.apply_theme('my_theme')

# –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ç–µ–º–æ–π
fig = charts.create_candlestick_chart(
    data,
    title="Custom Theme Chart",
    theme='my_theme'
)
fig.show()
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Universal Pipeline)

```python
from bquant.visualization import FinancialCharts, ZoneVisualizer, StatisticalPlots

# Universal Pipeline –∞–Ω–∞–ª–∏–∑
result = (
    analyze_zones(data)
    .with_indicator('custom', 'macd', fast_period=12, slow_period=26, signal_period=9)
    .detect_zones('zero_crossing', indicator_col='macd_hist')
    .analyze(clustering=True)
    .build()
)

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
def create_comprehensive_analysis(data, result):
    """–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ —Å Universal Pipeline"""
    
    charts = FinancialCharts()
    zone_viz = ZoneVisualizer()
    stat_plots = StatisticalPlots()
    
    # 1. –¶–µ–Ω–æ–≤–æ–π –≥—Ä–∞—Ñ–∏–∫ —Å –∑–æ–Ω–∞–º–∏
    price_fig = zone_viz.plot_zones_on_price_chart(
        data, result.zones,
        title="Price Analysis with Universal Zones",
        theme='dark'
    )
    
    # 2. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–æ–Ω—ã
    detail_fig = zone_viz.plot_zone_detail(
        data, result.zones[0],
        context_bars=20,
        title="Zone Detail Analysis",
        theme='dark'
    )
    
    # 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–æ–Ω
    comparison_fig = zone_viz.plot_zones_comparison(
        data, result.zones,
        max_zones=5,
        title="Zones Comparison",
        theme='blue'
    )
    
    # 4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–∏–ø–æ—Ç–µ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
    hypothesis_fig = None
    if result.hypothesis_tests:
        hypothesis_fig = stat_plots.plot_hypothesis_results(
            result.hypothesis_tests.results,
            title="Statistical Test Results",
            theme='dark'
        )
    
    return {
        'price_chart': price_fig,
        'detail_chart': detail_fig,
        'comparison_chart': comparison_fig,
        'hypothesis_results': hypothesis_fig
    }

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
analysis_figures = create_comprehensive_analysis(data, result)

# –ü–æ–∫–∞–∑ –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
for name, fig in analysis_figures.items():
    if fig is not None:
        print(f"Showing {name}...")
        fig.show()
```

### –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤

```python
import os
from bquant.visualization import FinancialCharts

# –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
charts = FinancialCharts()
fig = charts.create_candlestick_chart(
    data,
    title="XAUUSD 1H Analysis",
    theme='dark'
)

# –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
export_dir = 'exports'
os.makedirs(export_dir, exist_ok=True)

# PNG
fig.write_image(f"{export_dir}/chart.png", width=1200, height=800)

# HTML (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π)
fig.write_html(f"{export_dir}/chart.html")

# PDF
fig.write_image(f"{export_dir}/chart.pdf", width=1200, height=800)

# SVG (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π)
fig.write_image(f"{export_dir}/chart.svg", width=1200, height=800)

print(f"Charts exported to {export_dir}/")
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

```python
from bquant.visualization.base import BaseChart
import plotly.graph_objects as go
import plotly.express as px

class CustomVolatilityChart(BaseChart):
    """–ö–∞—Å—Ç–æ–º–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏"""
    
    def __init__(self, theme='default'):
        super().__init__(theme)
    
    def create_chart(self, data, window_size=20, title="Volatility Chart"):
        """–°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏"""
        
        # –†–∞—Å—á–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
        returns = data['close'].pct_change()
        volatility = returns.rolling(window=window_size).std()
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
        fig = go.Figure()
        
        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∏–Ω–∏–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
        fig.add_trace(go.Scatter(
            x=data.index,
            y=volatility,
            mode='lines',
            name='Volatility',
            line=dict(color=self.theme.colors['primary'])
        ))
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–∫–µ—Ç–∞
        fig.update_layout(
            title=title,
            xaxis_title="Date",
            yaxis_title="Volatility",
            template=self.theme.template,
            height=600
        )
        
        return fig

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
volatility_chart = CustomVolatilityChart(theme='dark')
vol_fig = volatility_chart.create_chart(data, window_size=20)
vol_fig.show()
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

```python
from bquant.visualization import FinancialCharts

# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
charts = FinancialCharts()

fig = charts.create_candlestick_chart(
    data,
    title="Interactive XAUUSD Chart",
    theme='dark',
    interactive=True
)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
fig.update_layout(
    hovermode='x unified',
    showlegend=True,
    legend=dict(
        orientation="h",
        yanchor="bottom",
        y=1.02,
        xanchor="right",
        x=1
    )
)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
fig.update_layout(
    updatemenus=[
        dict(
            type="buttons",
            direction="right",
            x=0.1,
            y=1.1,
            showactive=False,
            buttons=list([
                dict(label="1H",
                     method="relayout",
                     args=[{"xaxis.range": [data.index[-100], data.index[-1]]}]),
                dict(label="1D",
                     method="relayout",
                     args=[{"xaxis.range": [data.index[-24], data.index[-1]]}]),
                dict(label="1W",
                     method="relayout",
                     args=[{"xaxis.range": [data.index[-168], data.index[-1]]}]),
                dict(label="All",
                     method="relayout",
                     args=[{"xaxis.range": [data.index[0], data.index[-1]]}])
            ])
        )
    ]
)

fig.show()
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

- **[Core Modules](../core/)** - –ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏
- **[Data Modules](../data/)** - –ú–æ–¥—É–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- **[Indicators](../indicators/)** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- **[Analysis](../analysis/)** - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏

## üìñ –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[Universal Pipeline](../analysis/pipeline.md)** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Universal Pipeline v2.1
- **[Charts Module](charts.md)** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **[Zones Module](zones.md)** - Universal Zone Visualization
- **[Statistical Module](statistical.md)** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **[Themes Module](themes.md)** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ–º –∏ —Å—Ç–∏–ª–µ–π

## üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –≥—Ä–∞—Ñ–∏–∫–∞

1. **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç BaseChart**
2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ create_chart()**
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã**
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞ –∏ —Å—Ç–∏–ª–∏
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

---

**–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª:** [Core Modules](../core/) üèóÔ∏è
